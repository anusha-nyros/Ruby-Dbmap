<%#= render :partial => "menu" %>
<% if !@fields.nil? %>
<%= render :partial => "fields/search_form", locals: {q: @q} %>
<%end %>
<% if @fields.blank? %>
  <div class="well">You don't currently have any fields </div>
<% else %>
<h1>Fields</h1>

<table class="table table-striped" >
  <tr>
    <th><%= sort_link(@q,:database_name," Database Name") %></th>
    <th><%= sort_link(@q,:table_name," Table") %></th>
  <th><%= sort_link(@q, :field_name, "FieldName") %></th>

 <th><%= sort_link(@q, :field_type, "Type") %></th>
    <th><%= sort_link(@q, :field_size, "Size") %></th>
    <th><%= sort_link(@q, :environment, "Environment") %></th>
 <th><%= sort_link(@q, :description, "Description") %></th>

    <th></th>
    <th></th>
  </tr>
  <% @fields.each do |field| %>
  <tr>
    <td><%= field.database_name %></td>
    <td><%= field.table_name %></td>
    <td><%= field.field_name %></td>
    <td><%= field.field_type %></td>
   <td><%= field.field_size %></td>
    <td><%= field.environment %></td>
    
    <td><%= truncate(field.description,:length=>30) %></td>
    
  
    <td>
   <%= link_to 'Show', field, class: 'btn btn-mini' %>
   <%= link_to 'Edit', edit_field_path(field), class: 'btn btn-mini' %>
    </td>
    <td></td><td></td>
  </tr>
<% end %>
</table>
<%= paginate @fields  %>
<% end %>

